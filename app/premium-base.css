/**
 * CONKA Style Guide 02 – Premium Base
 * Tokens and semantic classes for PDP premium layer.
 * Applied only inside a premium wrapper (e.g. .premium-pdp) in Phase 3.
 *
 * Typography: Display (Syne – geometric, premium; swap to New Haus when licensed).
 * Body: DM Sans – sharp, legible, neutral sans.
 */

:root {
  /* ----- Spacing (rem) ----- */
  --premium-space-xs: 0.25rem;
  --premium-space-s: 0.5rem;
  --premium-space-m: 1rem;
  --premium-space-l: 1.5rem;
  --premium-space-xl: 2rem;
  --premium-section-padding-y: 3rem;
  --premium-section-padding-x: 1rem;

  /* ----- Radius ----- */
  --premium-radius-base: 1.5rem; /* 24px for premium feel */
  --premium-radius-interactive: 9999px;

  /* ----- Typography: premium PDP (display + body; vars from layout.tsx) ----- */
  --premium-font-display-size: 2.5rem;
  --premium-font-display-weight: 700;
  --premium-font-heading-size: 1.5rem;
  --premium-font-heading-weight: 700;
  --premium-font-body-size: 1rem;
  --premium-font-body-weight: 400;
  --premium-font-body-leading: 1.6;
  --premium-font-data-size: 0.875rem;
  --premium-font-data-weight: 500;
  --premium-font-annotation-size: 1.125rem;
  --premium-font-annotation-weight: 400;

  /* ----- Layout ----- */
  --premium-container-max: 72rem;

  /* ----- Border (use sparingly) ----- */
  --premium-border-width: 1px;
  --premium-border-color: rgba(0, 0, 0, 0.12);

  /* ----- Surface (subtle grey for panels, cards) ----- */
  --premium-surface: var(--color-surface);

  /* ----- Soft-Tech Luxury: Track (horizontal consistency) ----- */
  --premium-max-width: 1280px;
  --premium-gutter-mobile: 1.25rem;
  --premium-gutter-desktop: 5vw;
  /** Tight mobile gutter for hero and other space-constrained blocks */
  --premium-gutter-mobile-tight: 0.25rem;

  /* ----- Soft-Tech Luxury: Curve (soft shapes) ----- */
  --premium-radius-card: 2.5rem; /* 40px – primary "pebble" for cards/boxes */
  --premium-radius-nested: 1.25rem; /* 20px – inside cards */

  /* ----- Soft-Tech Luxury: Breath (vertical rhythm) ----- */
  --space-section-padding: clamp(5rem, 10vh, 10rem);
  --space-section-padding-mobile: 5rem;
  --space-header-gap: 4rem;
  --space-text-gap: 1.5rem;

  /* ----- Soft-Tech Luxury: Colors (Ink, Bone, Surface, Mid) ----- */
  --color-base-white: #f9f9f9; /* Bone */
  --color-base-black: #111111; /* Ink */
  --color-base-surface: #f4f6f5; /* Structural grey for bento/cards */
  --color-base-mid: #d1d5d2; /* Mid-Chrome: deeper grey so white cards pop; Soft-Tech / anodized feel */
  --color-premium-bg-soft: var(--color-base-white);
  --color-premium-stroke: rgba(0, 0, 0, 0.06);
  /* Aliases for compatibility */
  --color-ink: var(--color-base-black);
  --color-bone: var(--color-base-white);
  --color-surface: var(--color-base-surface);
  --color-mid: var(--color-base-mid);

  /* ----- Text on background (ensure contrast) ----- */
  /* On black (Ink) bases: white or bone text */
  --text-on-ink: #ffffff;
  --text-on-ink-muted: var(--color-base-white);
  /* On Bone or Surface bases: black or bone text */
  --text-on-light: var(--color-base-black);
  --text-on-light-muted: #444444;

  /* ----- Neuro Blue (v1 accent gradient) ----- */
  --color-neuro-blue-start: #c8d0ea;
  --color-neuro-blue-end: #4058bb;
  --gradient-neuro-blue-accent: linear-gradient(to right, var(--color-neuro-blue-start), var(--color-neuro-blue-end));

  /* ----- Soft-Tech Luxury: Typography scale ----- */
  --letter-spacing-premium-title: -0.03em;
  --premium-body-max-width: 65ch;
  --text-section-title: clamp(2.25rem, 6vw, 3.5rem);
  --text-card-title: 1.75rem;
  --text-stat-large: clamp(3rem, 8vw, 4.5rem);
  --text-body-premium: 1.125rem;
  --text-label-caps: 0.75rem;
  --leading-tight: 1.1;
  --leading-relaxed: 1.6;
  --tracking-tight: -0.03em;
  --tracking-wide: 0.05em;
}

/* Layout */

/* Prevent horizontal scroll from full-bleed (w-screen) content; 100vw can exceed viewport when scrollbar is present */
.premium-pdp {
  overflow-x: hidden;
  max-width: 100%;
}

.premium-section {
  padding-top: var(--premium-section-padding-y);
  padding-bottom: var(--premium-section-padding-y);
  padding-left: var(--premium-section-padding-x);
  padding-right: var(--premium-section-padding-x);
}

.premium-container {
  max-width: var(--premium-container-max);
  margin-left: auto;
  margin-right: auto;
}

/* ----- Soft-Tech Luxury: Single Track ----- */
/* Use .premium-track inside .premium-section (or .premium-section-luxury) for content that must align to the single horizontal rail. Parent provides gutters. */
.premium-track {
  max-width: var(--premium-max-width);
  margin-left: auto;
  margin-right: auto;
}

/* ----- Soft-Tech Luxury: Section with "air" ----- */
/* Symmetrical section wrapper; transition for color changes. */
.premium-section-luxury {
  padding-top: var(--space-section-padding);
  padding-bottom: var(--space-section-padding);
  padding-left: var(--premium-gutter-desktop);
  padding-right: var(--premium-gutter-desktop);
  transition: background-color 0.4s ease;
}
/* Hero as first section: minimal top padding so it mounts at the top of the page */
.premium-section-luxury.premium-hero-first {
  padding-top: var(--premium-space-m);
}
@media (max-width: 768px) {
  .premium-section-luxury {
    padding-top: var(--space-section-padding-mobile);
    padding-bottom: var(--space-section-padding-mobile);
    padding-left: var(--premium-gutter-mobile);
    padding-right: var(--premium-gutter-mobile);
  }
  .premium-section-luxury.premium-hero-first {
    padding-top: var(--premium-space-m);
  }
}

/* ----- Soft-Tech Luxury: Section background + text (use with .premium-section-luxury) ----- */
/* Black (Ink) base: white or bone text only */
.premium-bg-ink {
  background-color: var(--color-base-black);
  color: var(--text-on-ink);
}
.premium-bg-ink .premium-section-heading,
.premium-bg-ink .premium-body,
.premium-bg-ink .premium-data,
.premium-bg-ink .premium-annotation {
  color: var(--text-on-ink);
}
.premium-bg-ink .premium-text-muted {
  color: var(--text-on-ink-muted);
}

/* Bone or Surface base: black or bone text only */
.premium-bg-bone {
  background-color: var(--color-base-white);
  color: var(--text-on-light);
}
.premium-bg-surface {
  background-color: var(--color-base-surface);
  color: var(--text-on-light);
}
.premium-bg-bone .premium-section-heading,
.premium-bg-bone .premium-body,
.premium-bg-surface .premium-section-heading,
.premium-bg-surface .premium-body {
  color: inherit;
}
.premium-bg-bone .premium-text-muted,
.premium-bg-surface .premium-text-muted {
  color: var(--text-on-light-muted);
}

/* Mid-Chrome: deeper grey section; same text treatment as Bone/Surface (dark text) */
.premium-bg-mid {
  background-color: var(--color-base-mid);
  color: var(--text-on-light);
}
.premium-bg-mid .premium-section-heading,
.premium-bg-mid .premium-body {
  color: inherit;
}
.premium-bg-mid .premium-text-muted {
  color: var(--text-on-light-muted);
}

/* ----- Soft-Tech Luxury: Header block utility ----- */
.premium-header-group {
  margin-bottom: var(--space-header-gap);
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ----- Soft-Tech Luxury: Card/box upgrade ----- */
/* Apply to cards, case study blocks, bento cells for pebble shape and soft background. Adopt in component refactors. */
.premium-card-soft {
  border-radius: var(--premium-radius-card);
  background-color: var(--color-premium-bg-soft);
  border: none;
  padding: 3rem;
}
.premium-card-soft.premium-card-soft-stroke {
  border: 1px solid var(--color-premium-stroke);
}

/* Card on dark section: force dark text so content stays readable (e.g. case study cards on .premium-bg-ink) */
.premium-card-dark-text,
.premium-card-dark-text .premium-heading,
.premium-card-dark-text .premium-body,
.premium-card-dark-text .premium-data,
.premium-card-dark-text .premium-annotation {
  color: var(--color-base-black);
}

/* Own-surface: use on buttons, pills, or any element with its own background on a dark (Ink) section so text stays dark. Placed after .premium-bg-ink typography so it wins. */
.premium-bg-ink .premium-own-surface {
  color: var(--color-base-black);
}

/* Type roles (global) */
.premium-display {
  font-family: var(--font-primary), sans-serif;
  font-size: var(--premium-font-display-size);
  font-weight: var(--premium-font-display-weight);
  line-height: 1.2;
}

.premium-heading {
  font-family: var(--font-primary), sans-serif;
  font-size: var(--premium-font-heading-size);
  font-weight: var(--premium-font-heading-weight);
  line-height: 1.3;
}

/* Section title – fluid scale, tight tracking (Soft-Tech Luxury) */
.premium-section-heading {
  font-family: var(--font-primary), sans-serif;
  font-size: var(--text-section-title);
  letter-spacing: var(--tracking-tight);
  line-height: var(--leading-tight);
  margin-bottom: var(--space-text-gap);
  font-weight: 500;
}

/* Section subtitle – regular body font, adapts to background (Soft-Tech Luxury) */
.premium-section-subtitle {
  font-family: var(--font-primary), sans-serif;
  font-size: var(--text-body-premium);
  line-height: var(--leading-relaxed);
  font-weight: var(--premium-font-body-weight);
  margin-bottom: 0;
}
.premium-bg-ink .premium-section-subtitle {
  color: var(--text-on-ink);
}
.premium-bg-bone .premium-section-subtitle,
.premium-bg-surface .premium-section-subtitle {
  color: var(--text-on-light);
}

.premium-body {
  font-family: var(--font-primary), sans-serif;
  font-size: var(--text-body-premium);
  line-height: var(--leading-relaxed);
  max-width: var(--premium-body-max-width);
  margin-bottom: 0;
  color: #444;
  font-weight: var(--premium-font-body-weight);
}

/* Small body: supporting copy, timeline/quote text. Reuses data size (0.875rem). */
.premium-body-sm {
  font-family: var(--font-primary), sans-serif;
  font-size: var(--premium-font-data-size);
  line-height: var(--premium-font-body-leading);
  font-weight: var(--premium-font-body-weight);
}

/* Premium PDP hero: display (Syne / New Haus) + body (DM Sans) from style guide */
.premium-pdp .premium-hero-panel .premium-display-hero {
  font-family: var(--font-premium-display), var(--font-primary), sans-serif;
  font-size: var(--premium-font-display-size);
  font-weight: var(--premium-font-display-weight);
  line-height: 1.15;
}

.premium-pdp .premium-hero-panel .premium-body-hero {
  font-family: var(--font-premium-body), sans-serif;
  font-size: var(--premium-font-body-size);
  font-weight: var(--premium-font-body-weight);
  line-height: var(--premium-font-body-leading);
}

.premium-data {
  font-family: var(--font-clinical), monospace;
  font-size: var(--premium-font-data-size);
  font-weight: var(--premium-font-data-weight);
  line-height: 1.4;
}

.premium-annotation {
  font-family: var(--font-commentary), cursive;
  font-size: var(--premium-font-annotation-size);
  font-weight: var(--premium-font-annotation-weight);
  line-height: 1.4;
}

/* Spacing helpers */
.premium-stack-s {
  margin-bottom: var(--premium-space-s);
}

.premium-stack-s:last-child {
  margin-bottom: 0;
}

.premium-stack-m {
  margin-bottom: var(--premium-space-m);
}

.premium-stack-m:last-child {
  margin-bottom: 0;
}

/* Premium container (replaces neo-box when usePremium) */
.premium-box {
  border-radius: var(--premium-radius-base);
  border: var(--premium-border-width) solid var(--premium-border-color);
  background: var(--background);
  padding: var(--premium-space-m) var(--premium-space-l);
}

.premium-box-inverted {
  border-radius: var(--premium-radius-base);
  border: var(--premium-border-width) solid var(--premium-border-color);
  background: var(--foreground);
  color: var(--background);
  padding: var(--premium-space-m) var(--premium-space-l);
}

/* Scoped overrides: softer look inside .premium-pdp only */
.premium-pdp .neo-box {
  border-radius: var(--premium-radius-base);
  border-width: var(--premium-border-width);
  border-color: var(--premium-border-color);
}

.premium-pdp .neo-button,
.premium-pdp .neo-button-outline {
  border-width: var(--premium-border-width);
}

.premium-pdp [class*="shadow-"] {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

/* Inverted (dark) section – black background, light text – e.g. bento benefits */
.premium-section-inverted {
  background: var(--foreground);
  color: var(--background);
}

/* Bento cards inside inverted section – visible border and subtle fill */
.premium-bento-card {
  border-radius: var(--premium-radius-base);
  border-width: var(--premium-border-width);
}

/* Product Grid Responsive Layout - Tablet breakpoint only */
@media (min-width: 768px) and (max-width: 1023px) {
  .product-grid-container {
    grid-template-areas:
      "protocol protocol"
      "flow clear";
  }
  
  .product-card-protocol {
    grid-area: protocol;
    max-width: 70%;
    margin: 0 auto;
  }
  
  .product-card-wrapper:nth-child(1) {
    grid-area: flow;
  }
  
  .product-card-wrapper:nth-child(2) {
    grid-area: clear;
  }
  
  .product-card-wrapper:nth-child(3) {
    grid-area: protocol;
  }
  
  /* Protocol tablet layout - image left, card right */
  .product-card-protocol-tablet {
    align-items: stretch;
  }
  
  /* Image container takes half width and centers content vertically */
  .product-card-protocol-tablet > div:first-child {
    height: 100%;
  }
}

@media (min-width: 1024px) {
  .product-card-protocol {
    max-width: 100%;
  }
  
  /* Reset grid areas at desktop - use natural order */
  .product-grid-container {
    grid-template-areas: none;
  }
}
